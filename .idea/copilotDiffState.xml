<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/ecohand/presentation/main/MainScreen.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/ecohand/presentation/main/MainScreen.kt" />
              <option name="originalContent" value="package com.example.ecohand.presentation.main&#10;&#10;import androidx.compose.foundation.layout.padding&#10;import androidx.compose.material3.Icon&#10;import androidx.compose.material3.MaterialTheme&#10;import androidx.compose.material3.NavigationBar&#10;import androidx.compose.material3.NavigationBarItem&#10;import androidx.compose.material3.NavigationBarItemDefaults&#10;import androidx.compose.material3.Scaffold&#10;import androidx.compose.material3.Text&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.runtime.getValue&#10;import androidx.compose.runtime.remember&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.platform.LocalContext&#10;import androidx.navigation.NavHostController&#10;import androidx.navigation.NavType&#10;import androidx.navigation.compose.NavHost&#10;import androidx.navigation.compose.composable&#10;import androidx.navigation.compose.currentBackStackEntryAsState&#10;import androidx.navigation.compose.rememberNavController&#10;import androidx.navigation.navArgument&#10;import com.example.ecohand.data.local.database.EcoHandDatabase&#10;import com.example.ecohand.data.repository.DiccionarioRepository&#10;import com.example.ecohand.data.repository.JuegoRepository&#10;import com.example.ecohand.data.repository.PerfilRepository&#10;import com.example.ecohand.data.repository.ProgresoRepository&#10;import com.example.ecohand.data.session.UserSession&#10;import com.example.ecohand.navigation.Screen&#10;import com.example.ecohand.navigation.bottomNavItems&#10;import com.example.ecohand.presentation.diccionario.DiccionarioViewModel&#10;import com.example.ecohand.presentation.home.InicioScreen&#10;import com.example.ecohand.presentation.juegos.JuegosScreen&#10;import com.example.ecohand.presentation.juegos.JuegosViewModel&#10;import com.example.ecohand.presentation.lecciones.LeccionesScreen&#10;import com.example.ecohand.presentation.lecciones.LeccionDetalleScreen&#10;import com.example.ecohand.presentation.lecciones.LeccionPracticaScreen&#10;import com.example.ecohand.presentation.perfil.*&#10;import com.example.ecohand.presentation.progreso.ProgresoScreen&#10;import com.example.ecohand.presentation.progreso.ProgresoViewModel&#10;&#10;@Composable&#10;fun MainScreen(&#10;    onLogout: () -&gt; Unit = {}&#10;) {&#10;    val navController = rememberNavController()&#10;    val context = LocalContext.current&#10;&#10;    // Inicializar base de datos y repositorios&#10;    val database = EcoHandDatabase.getDatabase(context)&#10;    val userSession = UserSession.getInstance(context)&#10;    val usuarioId = userSession.getUserId()&#10;&#10;    // Crear ProgresoRepository&#10;    val progresoRepository = ProgresoRepository(&#10;        estadisticasUsuarioDao = database.estadisticasUsuarioDao(),&#10;        progresoLeccionDao = database.progresoLeccionDao(),&#10;        actividadDiariaDao = database.actividadDiariaDao(),&#10;        logroDao = database.logroDao(),&#10;        logroUsuarioDao = database.logroUsuarioDao(),&#10;        leccionDao = database.leccionDao()&#10;    )&#10;&#10;    // Crear ProgresoViewModel con remember para evitar recreaciones&#10;    val progresoViewModel = remember(usuarioId) {&#10;        ProgresoViewModel(progresoRepository, usuarioId)&#10;    }&#10;&#10;    // Crear JuegoRepository&#10;    val juegoRepository = JuegoRepository(&#10;        senaDao = database.senaDao(),&#10;        partidaJuegoDao = database.partidaJuegoDao(),&#10;        estadisticasUsuarioDao = database.estadisticasUsuarioDao()&#10;    )&#10;&#10;    // Crear JuegosViewModel con remember para evitar recreaciones&#10;    val juegosViewModel = remember(usuarioId) {&#10;        JuegosViewModel(juegoRepository, usuarioId)&#10;    }&#10;&#10;    // Crear PerfilRepository&#10;    val perfilRepository = PerfilRepository(&#10;        userDao = database.userDao(),&#10;        estadisticasUsuarioDao = database.estadisticasUsuarioDao(),&#10;        progresoLeccionDao = database.progresoLeccionDao()&#10;    )&#10;&#10;    // Crear PerfilViewModel con remember para evitar recreaciones&#10;    val perfilViewModel = remember(usuarioId) {&#10;        PerfilViewModel(perfilRepository, usuarioId)&#10;    }&#10;&#10;    // Crear DiccionarioRepository&#10;    val diccionarioRepository = DiccionarioRepository(&#10;        senaDao = database.senaDao()&#10;    )&#10;&#10;    // Crear DiccionarioViewModel con remember para evitar recreaciones&#10;    val diccionarioViewModel = remember {&#10;        DiccionarioViewModel(diccionarioRepository)&#10;    }&#10;&#10;    Scaffold(&#10;        bottomBar = {&#10;            val currentRoute = navController.currentBackStackEntryAsState().value?.destination?.route&#10;            // Ocultar bottom bar en pantallas de detalle, práctica y detección&#10;            if (currentRoute != null &amp;&amp;&#10;                !currentRoute.startsWith(&quot;leccion_detalle&quot;) &amp;&amp;&#10;                !currentRoute.startsWith(&quot;leccion_practica&quot;) &amp;&amp;&#10;                currentRoute != Screen.DetectionTest.route) {&#10;                BottomNavigationBar(navController = navController)&#10;            }&#10;        }&#10;    ) { innerPadding -&gt;&#10;        MainNavHost(&#10;            navController = navController,&#10;            progresoViewModel = progresoViewModel,&#10;            juegosViewModel = juegosViewModel,&#10;            perfilViewModel = perfilViewModel,&#10;            diccionarioViewModel = diccionarioViewModel,&#10;            onLogout = onLogout,&#10;            modifier = Modifier.padding(innerPadding)&#10;        )&#10;    }&#10;}&#10;&#10;@Composable&#10;fun BottomNavigationBar(navController: NavHostController) {&#10;    val navBackStackEntry by navController.currentBackStackEntryAsState()&#10;    val currentRoute = navBackStackEntry?.destination?.route&#10;&#10;    NavigationBar(&#10;        containerColor = MaterialTheme.colorScheme.primary,&#10;        contentColor = MaterialTheme.colorScheme.onPrimary&#10;    ) {&#10;        bottomNavItems.forEach { item -&gt;&#10;            val isSelected = currentRoute == item.route&#10;            NavigationBarItem(&#10;                icon = {&#10;                    Icon(&#10;                        imageVector = if (isSelected) item.selectedIcon else item.icon,&#10;                        contentDescription = item.title&#10;                    )&#10;                },&#10;                label = { Text(text = item.title) },&#10;                selected = isSelected,&#10;                onClick = {&#10;                    navController.navigate(item.route) {&#10;                        navController.graph.startDestinationRoute?.let { route -&gt;&#10;                            popUpTo(route) {&#10;                                saveState = true&#10;                            }&#10;                        }&#10;                        launchSingleTop = true&#10;                        restoreState = true&#10;                    }&#10;                },&#10;                colors = NavigationBarItemDefaults.colors(&#10;                    selectedIconColor = MaterialTheme.colorScheme.onPrimary,&#10;                    selectedTextColor = MaterialTheme.colorScheme.onPrimary,&#10;                    unselectedIconColor = MaterialTheme.colorScheme.onPrimary.copy(alpha = 0.6f),&#10;                    unselectedTextColor = MaterialTheme.colorScheme.onPrimary.copy(alpha = 0.6f),&#10;                    indicatorColor = MaterialTheme.colorScheme.secondary&#10;                )&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun MainNavHost(&#10;    navController: NavHostController,&#10;    progresoViewModel: ProgresoViewModel,&#10;    juegosViewModel: JuegosViewModel,&#10;    perfilViewModel: PerfilViewModel,&#10;    diccionarioViewModel: DiccionarioViewModel,&#10;    onLogout: () -&gt; Unit = {},&#10;    modifier: Modifier = Modifier&#10;) {&#10;    NavHost(&#10;        navController = navController,&#10;        startDestination = Screen.Inicio.route,&#10;        modifier = modifier&#10;    ) {&#10;        composable(Screen.Inicio.route) {&#10;            InicioScreen(&#10;                onNavigateToLeccion = { leccionId -&gt;&#10;                    navController.navigate(Screen.LeccionDetalle.createRoute(leccionId))&#10;                }&#10;            )&#10;        }&#10;        composable(Screen.Lecciones.route) {&#10;            LeccionesScreen(&#10;                onNavigateToDetalle = { leccionId -&gt;&#10;                    navController.navigate(Screen.LeccionDetalle.createRoute(leccionId))&#10;                }&#10;            )&#10;        }&#10;        composable(&#10;            route = Screen.LeccionDetalle.route,&#10;            arguments = listOf(navArgument(&quot;leccionId&quot;) { type = NavType.IntType })&#10;        ) { backStackEntry -&gt;&#10;            val leccionId = backStackEntry.arguments?.getInt(&quot;leccionId&quot;) ?: return@composable&#10;            LeccionDetalleScreen(&#10;                leccionId = leccionId,&#10;                onNavigateBack = { navController.popBackStack() },&#10;                onNavigateToPractica = { id -&gt;&#10;                    when (id) {&#10;                        1 -&gt; {&#10;                            // Saludos Básicos → Validación de &quot;Hola&quot;&#10;                            navController.navigate(Screen.VowelValidation.createRoute(&quot;Hola&quot;, leccionId = 1))&#10;                        }&#10;                        2 -&gt; {&#10;                            // Alfabeto → Lista de validación A, I, Z&#10;                            navController.navigate(Screen.LeccionListaValidacion.createRoute(2))&#10;                        }&#10;                        else -&gt; {&#10;                            // Otras lecciones → Práctica normal&#10;                            navController.navigate(Screen.LeccionPractica.createRoute(id))&#10;                        }&#10;                    }&#10;                }&#10;            )&#10;        }&#10;        composable(&#10;            route = Screen.LeccionPractica.route,&#10;            arguments = listOf(navArgument(&quot;leccionId&quot;) { type = NavType.IntType })&#10;        ) { backStackEntry -&gt;&#10;            val leccionId = backStackEntry.arguments?.getInt(&quot;leccionId&quot;) ?: return@composable&#10;            LeccionPracticaScreen(&#10;                leccionId = leccionId,&#10;                onNavigateBack = { navController.popBackStack() },&#10;                onLeccionCompletada = {&#10;                    // Volver a la lista de lecciones&#10;                    navController.popBackStack(Screen.Lecciones.route, inclusive = false)&#10;                }&#10;            )&#10;        }&#10;        composable(&#10;            route = Screen.LeccionListaValidacion.route,&#10;            arguments = listOf(navArgument(&quot;leccionId&quot;) { type = NavType.IntType })&#10;        ) { backStackEntry -&gt;&#10;            val leccionId = backStackEntry.arguments?.getInt(&quot;leccionId&quot;) ?: return@composable&#10;&#10;            // Definir las señas según la lección&#10;            val senasAValidar = when (leccionId) {&#10;                2 -&gt; listOf(&#10;                    com.example.ecohand.presentation.lecciones.SenaItem(&quot;A&quot;, &quot;Pulgar extendido hacia afuera&quot;),&#10;                    com.example.ecohand.presentation.lecciones.SenaItem(&quot;I&quot;, &quot;Solo meñique extendido&quot;),&#10;                    com.example.ecohand.presentation.lecciones.SenaItem(&quot;Z&quot;, &quot;Índice trazando una Z&quot;)&#10;                )&#10;                else -&gt; emptyList()&#10;            }&#10;&#10;            com.example.ecohand.presentation.lecciones.LeccionListaValidacionScreen(&#10;                leccionId = leccionId,&#10;                senasAValidar = senasAValidar,&#10;                onNavigateBack = { navController.popBackStack() },&#10;                onNavigateToValidacion = { letra, lecId -&gt;&#10;                    navController.navigate(&#10;                        Screen.VowelValidation.createRoute(letra, leccionId = lecId)&#10;                    )&#10;                },&#10;                onLeccionCompletada = {&#10;                    navController.popBackStack(Screen.Lecciones.route, inclusive = false)&#10;                }&#10;            )&#10;        }&#10;        composable(Screen.Progreso.route) {&#10;            ProgresoScreen(viewModel = progresoViewModel)&#10;        }&#10;        composable(Screen.Juegos.route) {&#10;            JuegosScreen(viewModel = juegosViewModel)&#10;        }&#10;        composable(Screen.Perfil.route) {&#10;            PerfilScreen(&#10;                viewModel = perfilViewModel,&#10;                onNavigateToConfiguracion = {&#10;                    navController.navigate(Screen.Configuracion.route)&#10;                },&#10;                onNavigateToMisLogros = {&#10;                    navController.navigate(Screen.MisLogros.route)&#10;                },&#10;                onNavigateToDiccionario = {&#10;                    navController.navigate(Screen.DiccionarioLSP.route)&#10;                },&#10;                onNavigateToCompartir = {&#10;                    navController.navigate(Screen.CompartirApp.route)&#10;                },&#10;                onNavigateToAyuda = {&#10;                    navController.navigate(Screen.AyudaSoporte.route)&#10;                },&#10;                onNavigateToDetectionTest = {&#10;                    navController.navigate(Screen.CategorySelection.route)&#10;                }&#10;            )&#10;        }&#10;&#10;        // Pantallas de perfil&#10;        composable(Screen.Configuracion.route) {&#10;            ConfiguracionScreen(&#10;                onNavigateBack = { navController.popBackStack() },&#10;                onLogout = onLogout&#10;            )&#10;        }&#10;        composable(Screen.MisLogros.route) {&#10;            MisLogrosScreen(&#10;                onNavigateBack = { navController.popBackStack() }&#10;            )&#10;        }&#10;        composable(Screen.DiccionarioLSP.route) {&#10;            DiccionarioLSPScreen(&#10;                viewModel = diccionarioViewModel,&#10;                onNavigateBack = { navController.popBackStack() }&#10;            )&#10;        }&#10;        composable(Screen.CompartirApp.route) {&#10;            CompartirAppScreen(&#10;                onNavigateBack = { navController.popBackStack() }&#10;            )&#10;        }&#10;        composable(Screen.AyudaSoporte.route) {&#10;            AyudaSoporteScreen(&#10;                onNavigateBack = { navController.popBackStack() }&#10;            )&#10;        }&#10;&#10;        // Pantalla de prueba de detección&#10;        composable(Screen.DetectionTest.route) {&#10;            com.example.ecohand.presentation.components.DetectionTestScreen(&#10;                onNavigateBack = { navController.popBackStack() }&#10;            )&#10;        }&#10;&#10;        // Pantallas de validación de señas&#10;        composable(Screen.CategorySelection.route) {&#10;            com.example.ecohand.presentation.senas.CategorySelectionScreen(&#10;                onNavigateBack = { navController.popBackStack() },&#10;                onCategorySelected = { category -&gt;&#10;                    navController.navigate(Screen.VowelSelection.createRoute(category))&#10;                }&#10;            )&#10;        }&#10;&#10;        composable(&#10;            route = Screen.VowelSelection.route,&#10;            arguments = listOf(&#10;                navArgument(&quot;category&quot;) { type = NavType.StringType }&#10;            )&#10;        ) { backStackEntry -&gt;&#10;            val category = backStackEntry.arguments?.getString(&quot;category&quot;) ?: &quot;Alfabeto&quot;&#10;            com.example.ecohand.presentation.senas.VowelSelectionScreen(&#10;                category = category,&#10;                onNavigateBack = { navController.popBackStack() },&#10;                onVowelSelected = { vowel -&gt;&#10;                    navController.navigate(Screen.VowelValidation.createRoute(vowel))&#10;                }&#10;            )&#10;        }&#10;&#10;        composable(&#10;            route = Screen.VowelValidation.route,&#10;            arguments = listOf(&#10;                navArgument(&quot;vowel&quot;) { type = NavType.StringType },&#10;                navArgument(&quot;leccionId&quot;) {&#10;                    type = NavType.IntType&#10;                    defaultValue = -1&#10;                }&#10;            )&#10;        ) { backStackEntry -&gt;&#10;            val vowel = backStackEntry.arguments?.getString(&quot;vowel&quot;) ?: &quot;A&quot;&#10;            val leccionIdArg = backStackEntry.arguments?.getInt(&quot;leccionId&quot;) ?: -1&#10;            val leccionId = if (leccionIdArg &gt; 0) leccionIdArg else null&#10;            com.example.ecohand.presentation.senas.VowelValidationScreen(&#10;                vowel = vowel,&#10;                leccionId = leccionId,&#10;                onNavigateBack = { navController.popBackStack() },&#10;                onLeccionCompletada = {&#10;                    // Volver a la lista de lecciones&#10;                    navController.popBackStack(Screen.Lecciones.route, inclusive = false)&#10;                }&#10;            )&#10;        }&#10;    }&#10;}" />
              <option name="updatedContent" value="package com.example.ecohand.presentation.main&#10;&#10;import androidx.compose.foundation.layout.padding&#10;import androidx.compose.material3.Icon&#10;import androidx.compose.material3.MaterialTheme&#10;import androidx.compose.material3.NavigationBar&#10;import androidx.compose.material3.NavigationBarItem&#10;import androidx.compose.material3.NavigationBarItemDefaults&#10;import androidx.compose.material3.Scaffold&#10;import androidx.compose.material3.Text&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.runtime.getValue&#10;import androidx.compose.runtime.remember&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.platform.LocalContext&#10;import androidx.navigation.NavHostController&#10;import androidx.navigation.NavType&#10;import androidx.navigation.compose.NavHost&#10;import androidx.navigation.compose.composable&#10;import androidx.navigation.compose.currentBackStackEntryAsState&#10;import androidx.navigation.compose.rememberNavController&#10;import androidx.navigation.navArgument&#10;import com.example.ecohand.data.local.database.EcoHandDatabase&#10;import com.example.ecohand.data.repository.DiccionarioRepository&#10;import com.example.ecohand.data.repository.JuegoRepository&#10;import com.example.ecohand.data.repository.PerfilRepository&#10;import com.example.ecohand.data.repository.ProgresoRepository&#10;import com.example.ecohand.data.session.UserSession&#10;import com.example.ecohand.navigation.Screen&#10;import com.example.ecohand.navigation.bottomNavItems&#10;import com.example.ecohand.presentation.diccionario.DiccionarioViewModel&#10;import com.example.ecohand.presentation.home.InicioScreen&#10;import com.example.ecohand.presentation.juegos.JuegosScreen&#10;import com.example.ecohand.presentation.juegos.JuegosViewModel&#10;import com.example.ecohand.presentation.lecciones.LeccionesScreen&#10;import com.example.ecohand.presentation.lecciones.LeccionDetalleScreen&#10;import com.example.ecohand.presentation.lecciones.LeccionPracticaScreen&#10;import com.example.ecohand.presentation.perfil.*&#10;import com.example.ecohand.presentation.progreso.ProgresoScreen&#10;import com.example.ecohand.presentation.progreso.ProgresoViewModel&#10;&#10;@Composable&#10;fun MainScreen(&#10;    onLogout: () -&gt; Unit = {}&#10;) {&#10;    val navController = rememberNavController()&#10;    val context = LocalContext.current&#10;&#10;    // Inicializar base de datos y repositorios&#10;    val database = EcoHandDatabase.getDatabase(context)&#10;    val userSession = UserSession.getInstance(context)&#10;    val usuarioId = userSession.getUserId()&#10;&#10;    // Crear ProgresoRepository&#10;    val progresoRepository = ProgresoRepository(&#10;        estadisticasUsuarioDao = database.estadisticasUsuarioDao(),&#10;        progresoLeccionDao = database.progresoLeccionDao(),&#10;        actividadDiariaDao = database.actividadDiariaDao(),&#10;        logroDao = database.logroDao(),&#10;        logroUsuarioDao = database.logroUsuarioDao(),&#10;        leccionDao = database.leccionDao()&#10;    )&#10;&#10;    // Crear ProgresoViewModel con remember para evitar recreaciones&#10;    val progresoViewModel = remember(usuarioId) {&#10;        ProgresoViewModel(progresoRepository, usuarioId)&#10;    }&#10;&#10;    // Crear JuegoRepository&#10;    val juegoRepository = JuegoRepository(&#10;        senaDao = database.senaDao(),&#10;        partidaJuegoDao = database.partidaJuegoDao(),&#10;        estadisticasUsuarioDao = database.estadisticasUsuarioDao()&#10;    )&#10;&#10;    // Crear JuegosViewModel con remember para evitar recreaciones&#10;    val juegosViewModel = remember(usuarioId) {&#10;        JuegosViewModel(juegoRepository, usuarioId)&#10;    }&#10;&#10;    // Crear PerfilRepository&#10;    val perfilRepository = PerfilRepository(&#10;        userDao = database.userDao(),&#10;        estadisticasUsuarioDao = database.estadisticasUsuarioDao(),&#10;        progresoLeccionDao = database.progresoLeccionDao()&#10;    )&#10;&#10;    // Crear PerfilViewModel con remember para evitar recreaciones&#10;    val perfilViewModel = remember(usuarioId) {&#10;        PerfilViewModel(perfilRepository, usuarioId)&#10;    }&#10;&#10;    // Crear DiccionarioRepository&#10;    val diccionarioRepository = DiccionarioRepository(&#10;        senaDao = database.senaDao()&#10;    )&#10;&#10;    // Crear DiccionarioViewModel con remember para evitar recreaciones&#10;    val diccionarioViewModel = remember {&#10;        DiccionarioViewModel(diccionarioRepository)&#10;    }&#10;&#10;    Scaffold(&#10;        bottomBar = {&#10;            val currentRoute = navController.currentBackStackEntryAsState().value?.destination?.route&#10;            // Ocultar bottom bar en pantallas de detalle, práctica y detección&#10;            if (currentRoute != null &amp;&amp;&#10;                !currentRoute.startsWith(&quot;leccion_detalle&quot;) &amp;&amp;&#10;                !currentRoute.startsWith(&quot;leccion_practica&quot;) &amp;&amp;&#10;                currentRoute != Screen.DetectionTest.route) {&#10;                BottomNavigationBar(navController = navController)&#10;            }&#10;        }&#10;    ) { innerPadding -&gt;&#10;        MainNavHost(&#10;            navController = navController,&#10;            progresoViewModel = progresoViewModel,&#10;            juegosViewModel = juegosViewModel,&#10;            perfilViewModel = perfilViewModel,&#10;            diccionarioViewModel = diccionarioViewModel,&#10;            onLogout = onLogout,&#10;            modifier = Modifier.padding(innerPadding)&#10;        )&#10;    }&#10;}&#10;&#10;@Composable&#10;fun BottomNavigationBar(navController: NavHostController) {&#10;    val navBackStackEntry by navController.currentBackStackEntryAsState()&#10;    val currentRoute = navBackStackEntry?.destination?.route&#10;&#10;    NavigationBar(&#10;        containerColor = MaterialTheme.colorScheme.primary,&#10;        contentColor = MaterialTheme.colorScheme.onPrimary&#10;    ) {&#10;        bottomNavItems.forEach { item -&gt;&#10;            val isSelected = currentRoute == item.route&#10;            NavigationBarItem(&#10;                icon = {&#10;                    Icon(&#10;                        imageVector = if (isSelected) item.selectedIcon else item.icon,&#10;                        contentDescription = item.title&#10;                    )&#10;                },&#10;                label = { Text(text = item.title) },&#10;                selected = isSelected,&#10;                onClick = {&#10;                    navController.navigate(item.route) {&#10;                        navController.graph.startDestinationRoute?.let { route -&gt;&#10;                            popUpTo(route) {&#10;                                saveState = true&#10;                            }&#10;                        }&#10;                        launchSingleTop = true&#10;                        restoreState = true&#10;                    }&#10;                },&#10;                colors = NavigationBarItemDefaults.colors(&#10;                    selectedIconColor = MaterialTheme.colorScheme.onPrimary,&#10;                    selectedTextColor = MaterialTheme.colorScheme.onPrimary,&#10;                    unselectedIconColor = MaterialTheme.colorScheme.onPrimary.copy(alpha = 0.6f),&#10;                    unselectedTextColor = MaterialTheme.colorScheme.onPrimary.copy(alpha = 0.6f),&#10;                    indicatorColor = MaterialTheme.colorScheme.secondary&#10;                )&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun MainNavHost(&#10;    navController: NavHostController,&#10;    progresoViewModel: ProgresoViewModel,&#10;    juegosViewModel: JuegosViewModel,&#10;    perfilViewModel: PerfilViewModel,&#10;    diccionarioViewModel: DiccionarioViewModel,&#10;    onLogout: () -&gt; Unit = {},&#10;    modifier: Modifier = Modifier&#10;) {&#10;    NavHost(&#10;        navController = navController,&#10;        startDestination = Screen.Inicio.route,&#10;        modifier = modifier&#10;    ) {&#10;        composable(Screen.Inicio.route) {&#10;            InicioScreen(&#10;                onNavigateToLeccion = { leccionId -&gt;&#10;                    navController.navigate(Screen.LeccionDetalle.createRoute(leccionId))&#10;                }&#10;            )&#10;        }&#10;        composable(Screen.Lecciones.route) {&#10;            LeccionesScreen(&#10;                onNavigateToDetalle = { leccionId -&gt;&#10;                    navController.navigate(Screen.LeccionDetalle.createRoute(leccionId))&#10;                }&#10;            )&#10;        }&#10;        composable(&#10;            route = Screen.LeccionDetalle.route,&#10;            arguments = listOf(navArgument(&quot;leccionId&quot;) { type = NavType.IntType })&#10;        ) { backStackEntry -&gt;&#10;            val leccionId = backStackEntry.arguments?.getInt(&quot;leccionId&quot;) ?: return@composable&#10;            LeccionDetalleScreen(&#10;                leccionId = leccionId,&#10;                onNavigateBack = { navController.popBackStack() },&#10;                onNavigateToPractica = { id -&gt;&#10;                    when (id) {&#10;                        1 -&gt; {&#10;                            // Saludos Básicos → Validación de &quot;Hola&quot;&#10;                            navController.navigate(Screen.VowelValidation.createRoute(&quot;Hola&quot;, leccionId = 1))&#10;                        }&#10;                        2 -&gt; {&#10;                            // Alfabeto → Lista de validación A, I, Z&#10;                            navController.navigate(Screen.LeccionListaValidacion.createRoute(2))&#10;                        }&#10;                        3 -&gt; {&#10;                            // Números → Lista de validación 0, 3, 5&#10;                            navController.navigate(Screen.LeccionListaValidacion.createRoute(3))&#10;                        }&#10;                        else -&gt; {&#10;                            // Otras lecciones → Práctica normal&#10;                            navController.navigate(Screen.LeccionPractica.createRoute(id))&#10;                        }&#10;                    }&#10;                }&#10;            )&#10;        }&#10;        composable(&#10;            route = Screen.LeccionPractica.route,&#10;            arguments = listOf(navArgument(&quot;leccionId&quot;) { type = NavType.IntType })&#10;        ) { backStackEntry -&gt;&#10;            val leccionId = backStackEntry.arguments?.getInt(&quot;leccionId&quot;) ?: return@composable&#10;            LeccionPracticaScreen(&#10;                leccionId = leccionId,&#10;                onNavigateBack = { navController.popBackStack() },&#10;                onLeccionCompletada = {&#10;                    // Volver a la lista de lecciones&#10;                    navController.popBackStack(Screen.Lecciones.route, inclusive = false)&#10;                }&#10;            )&#10;        }&#10;        composable(&#10;            route = Screen.LeccionListaValidacion.route,&#10;            arguments = listOf(navArgument(&quot;leccionId&quot;) { type = NavType.IntType })&#10;        ) { backStackEntry -&gt;&#10;            val leccionId = backStackEntry.arguments?.getInt(&quot;leccionId&quot;) ?: return@composable&#10;&#10;            // Definir las señas según la lección&#10;            val senasAValidar = when (leccionId) {&#10;                2 -&gt; listOf(&#10;                    com.example.ecohand.presentation.lecciones.SenaItem(&quot;A&quot;, &quot;Pulgar extendido hacia afuera&quot;),&#10;                    com.example.ecohand.presentation.lecciones.SenaItem(&quot;I&quot;, &quot;Solo meñique extendido&quot;),&#10;                    com.example.ecohand.presentation.lecciones.SenaItem(&quot;Z&quot;, &quot;Índice trazando una Z&quot;)&#10;                )&#10;                3 -&gt; listOf(&#10;                    com.example.ecohand.presentation.lecciones.SenaItem(&quot;0&quot;, &quot;Dedos formando un círculo&quot;),&#10;                    com.example.ecohand.presentation.lecciones.SenaItem(&quot;3&quot;, &quot;Tres dedos extendidos&quot;),&#10;                    com.example.ecohand.presentation.lecciones.SenaItem(&quot;5&quot;, &quot;Mano abierta completa&quot;)&#10;                )&#10;                else -&gt; emptyList()&#10;            }&#10;&#10;            com.example.ecohand.presentation.lecciones.LeccionListaValidacionScreen(&#10;                leccionId = leccionId,&#10;                senasAValidar = senasAValidar,&#10;                onNavigateBack = { navController.popBackStack() },&#10;                onNavigateToValidacion = { letra, lecId -&gt;&#10;                    navController.navigate(&#10;                        Screen.VowelValidation.createRoute(letra, leccionId = lecId)&#10;                    )&#10;                },&#10;                onLeccionCompletada = {&#10;                    navController.popBackStack(Screen.Lecciones.route, inclusive = false)&#10;                }&#10;            )&#10;        }&#10;        composable(Screen.Progreso.route) {&#10;            ProgresoScreen(viewModel = progresoViewModel)&#10;        }&#10;        composable(Screen.Juegos.route) {&#10;            JuegosScreen(viewModel = juegosViewModel)&#10;        }&#10;        composable(Screen.Perfil.route) {&#10;            PerfilScreen(&#10;                viewModel = perfilViewModel,&#10;                onNavigateToConfiguracion = {&#10;                    navController.navigate(Screen.Configuracion.route)&#10;                },&#10;                onNavigateToMisLogros = {&#10;                    navController.navigate(Screen.MisLogros.route)&#10;                },&#10;                onNavigateToDiccionario = {&#10;                    navController.navigate(Screen.DiccionarioLSP.route)&#10;                },&#10;                onNavigateToCompartir = {&#10;                    navController.navigate(Screen.CompartirApp.route)&#10;                },&#10;                onNavigateToAyuda = {&#10;                    navController.navigate(Screen.AyudaSoporte.route)&#10;                },&#10;                onNavigateToDetectionTest = {&#10;                    navController.navigate(Screen.CategorySelection.route)&#10;                }&#10;            )&#10;        }&#10;&#10;        // Pantallas de perfil&#10;        composable(Screen.Configuracion.route) {&#10;            ConfiguracionScreen(&#10;                onNavigateBack = { navController.popBackStack() },&#10;                onLogout = onLogout&#10;            )&#10;        }&#10;        composable(Screen.MisLogros.route) {&#10;            MisLogrosScreen(&#10;                onNavigateBack = { navController.popBackStack() }&#10;            )&#10;        }&#10;        composable(Screen.DiccionarioLSP.route) {&#10;            DiccionarioLSPScreen(&#10;                viewModel = diccionarioViewModel,&#10;                onNavigateBack = { navController.popBackStack() }&#10;            )&#10;        }&#10;        composable(Screen.CompartirApp.route) {&#10;            CompartirAppScreen(&#10;                onNavigateBack = { navController.popBackStack() }&#10;            )&#10;        }&#10;        composable(Screen.AyudaSoporte.route) {&#10;            AyudaSoporteScreen(&#10;                onNavigateBack = { navController.popBackStack() }&#10;            )&#10;        }&#10;&#10;        // Pantalla de prueba de detección&#10;        composable(Screen.DetectionTest.route) {&#10;            com.example.ecohand.presentation.components.DetectionTestScreen(&#10;                onNavigateBack = { navController.popBackStack() }&#10;            )&#10;        }&#10;&#10;        // Pantallas de validación de señas&#10;        composable(Screen.CategorySelection.route) {&#10;            com.example.ecohand.presentation.senas.CategorySelectionScreen(&#10;                onNavigateBack = { navController.popBackStack() },&#10;                onCategorySelected = { category -&gt;&#10;                    navController.navigate(Screen.VowelSelection.createRoute(category))&#10;                }&#10;            )&#10;        }&#10;&#10;        composable(&#10;            route = Screen.VowelSelection.route,&#10;            arguments = listOf(&#10;                navArgument(&quot;category&quot;) { type = NavType.StringType }&#10;            )&#10;        ) { backStackEntry -&gt;&#10;            val category = backStackEntry.arguments?.getString(&quot;category&quot;) ?: &quot;Alfabeto&quot;&#10;            com.example.ecohand.presentation.senas.VowelSelectionScreen(&#10;                category = category,&#10;                onNavigateBack = { navController.popBackStack() },&#10;                onVowelSelected = { vowel -&gt;&#10;                    navController.navigate(Screen.VowelValidation.createRoute(vowel))&#10;                }&#10;            )&#10;        }&#10;&#10;        composable(&#10;            route = Screen.VowelValidation.route,&#10;            arguments = listOf(&#10;                navArgument(&quot;vowel&quot;) { type = NavType.StringType },&#10;                navArgument(&quot;leccionId&quot;) {&#10;                    type = NavType.IntType&#10;                    defaultValue = -1&#10;                }&#10;            )&#10;        ) { backStackEntry -&gt;&#10;            val vowel = backStackEntry.arguments?.getString(&quot;vowel&quot;) ?: &quot;A&quot;&#10;            val leccionIdArg = backStackEntry.arguments?.getInt(&quot;leccionId&quot;) ?: -1&#10;            val leccionId = if (leccionIdArg &gt; 0) leccionIdArg else null&#10;            com.example.ecohand.presentation.senas.VowelValidationScreen(&#10;                vowel = vowel,&#10;                leccionId = leccionId,&#10;                onNavigateBack = { navController.popBackStack() },&#10;                onLeccionCompletada = {&#10;                    // Volver a la lista de lecciones&#10;                    navController.popBackStack(Screen.Lecciones.route, inclusive = false)&#10;                }&#10;            )&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>